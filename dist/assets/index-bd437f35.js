var kt=Object.defineProperty;var vt=(t,e,l)=>e in t?kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var nt=(t,e,l)=>(vt(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function l(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=l(n);fetch(n.href,o)}})();function T(){}function $t(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function mt(t){return t()}function st(){return Object.create(null)}function W(t){t.forEach(mt)}function gt(t){return typeof t=="function"}function wt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Et(t){return Object.keys(t).length===0}function u(t,e){t.appendChild(e)}function z(t,e,l){t.insertBefore(e,l||null)}function x(t){t.parentNode&&t.parentNode.removeChild(t)}function Tt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function a(t){return document.createElement(t)}function R(t){return document.createTextNode(t)}function _(){return R(" ")}function Ct(){return R("")}function q(t,e,l,r){return t.addEventListener(e,l,r),()=>t.removeEventListener(e,l,r)}function d(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function bt(t){return t===""?null:+t}function Ot(t){return Array.from(t.childNodes)}function K(t,e){e=""+e,t.data!==e&&(t.data=e)}function j(t,e){t.value=e??""}let Y;function P(t){Y=t}function Dt(){if(!Y)throw new Error("Function called outside component initialization");return Y}const V=[],ct=[];let Q=[];const ft=[],St=Promise.resolve();let rt=!1;function jt(){rt||(rt=!0,St.then(ut))}function ot(t){Q.push(t)}const lt=new Set;let U=0;function ut(){if(U!==0)return;const t=Y;do{try{for(;U<V.length;){const e=V[U];U++,P(e),At(e.$$)}}catch(e){throw V.length=0,U=0,e}for(P(null),V.length=0,U=0;ct.length;)ct.pop()();for(let e=0;e<Q.length;e+=1){const l=Q[e];lt.has(l)||(lt.add(l),l())}Q.length=0}while(V.length);for(;ft.length;)ft.pop()();rt=!1,lt.clear(),P(t)}function At(t){if(t.fragment!==null){t.update(),W(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ot)}}function Nt(t){const e=[],l=[];Q.forEach(r=>t.indexOf(r)===-1?e.push(r):l.push(r)),l.forEach(r=>r()),Q=e}const tt=new Set;let G;function Lt(){G={r:0,c:[],p:G}}function Bt(){G.r||W(G.c),G=G.p}function yt(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function It(t,e,l,r){if(t&&t.o){if(tt.has(t))return;tt.add(t),G.c.push(()=>{tt.delete(t),r&&(l&&t.d(1),r())}),t.o(e)}else r&&r()}function at(t,e){const l=e.token={};function r(n,o,i,c){if(e.token!==l)return;e.resolved=c;let h=e.ctx;i!==void 0&&(h=h.slice(),h[i]=c);const s=n&&(e.current=n)(h);let k=!1;e.block&&(e.blocks?e.blocks.forEach((f,m)=>{m!==o&&f&&(Lt(),It(f,1,1,()=>{e.blocks[m]===f&&(e.blocks[m]=null)}),Bt())}):e.block.d(1),s.c(),yt(s,1),s.m(e.mount(),e.anchor),k=!0),e.block=s,e.blocks&&(e.blocks[o]=s),k&&ut()}if($t(t)){const n=Dt();if(t.then(o=>{P(n),r(e.then,1,e.value,o),P(null)},o=>{if(P(n),r(e.catch,2,e.error,o),P(null),!e.hasCatch)throw o}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function Pt(t,e,l){const r=e.slice(),{resolved:n}=t;t.current===t.then&&(r[t.value]=n),t.current===t.catch&&(r[t.error]=n),t.block.p(r,l)}function dt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Mt(t,e,l){const{fragment:r,after_update:n}=t.$$;r&&r.m(e,l),ot(()=>{const o=t.$$.on_mount.map(mt).filter(gt);t.$$.on_destroy?t.$$.on_destroy.push(...o):W(o),t.$$.on_mount=[]}),n.forEach(ot)}function Ft(t,e){const l=t.$$;l.fragment!==null&&(Nt(l.after_update),W(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Rt(t,e){t.$$.dirty[0]===-1&&(V.push(t),jt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function xt(t,e,l,r,n,o,i=null,c=[-1]){const h=Y;P(t);const s=t.$$={fragment:null,ctx:[],props:o,update:T,not_equal:n,bound:st(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(h?h.$$.context:[])),callbacks:st(),dirty:c,skip_bound:!1,root:e.target||h.$$.root};i&&i(s.root);let k=!1;if(s.ctx=l?l(t,e.props||{},(f,m,...v)=>{const O=v.length?v[0]:m;return s.ctx&&n(s.ctx[f],s.ctx[f]=O)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](O),k&&Rt(t,f)),m}):[],s.update(),k=!0,W(s.before_update),s.fragment=r?r(s.ctx):!1,e.target){if(e.hydrate){const f=Ot(e.target);s.fragment&&s.fragment.l(f),f.forEach(x)}else s.fragment&&s.fragment.c();e.intro&&yt(t.$$.fragment),Mt(t,e.target,e.anchor),ut()}P(h)}class Jt{constructor(){nt(this,"$$");nt(this,"$$set")}$destroy(){Ft(this,1),this.$destroy=T}$on(e,l){if(!gt(l))return T;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(l),()=>{const n=r.indexOf(l);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!Et(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const qt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(qt);function ht(t,e,l){const r=t.slice();return r[17]=e[l],r}function zt(t){return{c:T,m:T,p:T,d:T}}function Gt(t){let e,l=dt(t[16]),r=[];for(let n=0;n<l.length;n+=1)r[n]=pt(ht(t,l,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=Ct()},m(n,o){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(n,o);z(n,e,o)},p(n,o){if(o&160){l=dt(n[16]);let i;for(i=0;i<l.length;i+=1){const c=ht(n,l,i);r[i]?r[i].p(c,o):(r[i]=pt(c),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=l.length}},d(n){n&&x(e),Tt(r,n)}}}function pt(t){let e,l,r=t[17].title+"",n,o,i=t[17].author+"",c,h,s=t[17].started+"",k,f,m,v=t[17].finished+"",O,$,M,D=t[17].daysTaken+"",J,p,g,b=t[17].rating+"",w,A,N,y,X,F,H;function L(){return t[13](t[17])}return{c(){e=a("tr"),l=a("td"),n=R(r),o=a("td"),c=R(i),h=a("td"),k=R(s),f=_(),m=a("td"),O=R(v),$=_(),M=a("td"),J=R(D),p=_(),g=a("td"),w=R(b),A=_(),N=a("td"),y=a("button"),y.textContent="x",X=_()},m(B,S){z(B,e,S),u(e,l),u(l,n),u(e,o),u(o,c),u(e,h),u(h,k),u(e,f),u(e,m),u(m,O),u(e,$),u(e,M),u(M,J),u(e,p),u(e,g),u(g,w),u(e,A),u(e,N),u(N,y),u(e,X),F||(H=q(y,"click",L),F=!0)},p(B,S){t=B,S&32&&r!==(r=t[17].title+"")&&K(n,r),S&32&&i!==(i=t[17].author+"")&&K(c,i),S&32&&s!==(s=t[17].started+"")&&K(k,s),S&32&&v!==(v=t[17].finished+"")&&K(O,v),S&32&&D!==(D=t[17].daysTaken+"")&&K(J,D),S&32&&b!==(b=t[17].rating+"")&&K(w,b)},d(B){B&&x(e),F=!1,H()}}}function Ht(t){return{c:T,m:T,p:T,d:T}}function Kt(t){let e,l,r,n,o,i,c,h,s,k,f,m,v,O,$,M,D,J,p,g,b,w,A,N,y,X,F,H,L,B,S,Z,et,it,C={ctx:t,current:null,token:null,hasCatch:!1,pending:Ht,then:Gt,catch:zt,value:16};return at(Z=t[5],C),{c(){e=a("h1"),e.textContent="Books",l=_(),r=a("div"),n=a("form"),o=a("label"),o.textContent="Title:",i=_(),c=a("input"),h=_(),s=a("label"),s.textContent="Author:",k=_(),f=a("input"),m=_(),v=a("label"),v.textContent="Date Started:",O=_(),$=a("input"),M=_(),D=a("label"),D.textContent="Date Finished:",J=_(),p=a("input"),g=_(),b=a("script"),b.textContent=`const today = new Date().toISOString().split("T")[0];
          document.getElementById("started").setAttribute("max", today);
          document.getElementById("finished").setAttribute("max", today);`,w=_(),A=a("label"),A.textContent="Rating out of 10:",N=_(),y=a("input"),X=_(),F=a("button"),F.textContent="add book",H=_(),L=a("table"),B=a("thead"),B.innerHTML="<tr><th>Title</th> <th>Author</th> <th>Started</th><th>Finished</th><th>Days to Read</th><th>Rating</th><th>Delete</th></tr>",S=_(),C.block.c(),d(o,"for","title"),d(c,"type","text"),d(c,"class","title"),d(c,"id","title"),d(s,"for","author"),d(f,"type","text"),d(f,"class","author"),d(f,"id","author"),d(v,"for","started"),d($,"type","date"),d($,"class","started"),d($,"max",""),d($,"id","started"),d(D,"for","finished"),d(p,"type","date"),d(p,"class","finished"),d(p,"max",""),d(p,"id","finished"),d(A,"for","rating"),d(y,"class","rating"),d(y,"min","0"),d(y,"max","10"),d(y,"type","number"),d(y,"id","rating")},m(I,E){z(I,e,E),z(I,l,E),z(I,r,E),u(r,n),u(n,o),u(n,i),u(n,c),j(c,t[0]),u(n,h),u(n,s),u(n,k),u(n,f),j(f,t[1]),u(n,m),u(n,v),u(n,O),u(n,$),j($,t[2]),u(n,M),u(n,D),u(n,J),u(n,p),j(p,t[3]),u(n,g),u(n,b),u(n,w),u(n,A),u(n,N),u(n,y),j(y,t[4]),u(n,X),u(n,F),z(I,H,E),z(I,L,E),u(L,B),u(L,S),C.block.m(L,C.anchor=null),C.mount=()=>L,C.anchor=null,et||(it=[q(c,"input",t[8]),q(f,"input",t[9]),q($,"input",t[10]),q(p,"input",t[11]),q(y,"input",t[12]),q(F,"click",t[6])],et=!0)},p(I,[E]){t=I,E&1&&c.value!==t[0]&&j(c,t[0]),E&2&&f.value!==t[1]&&j(f,t[1]),E&4&&j($,t[2]),E&8&&j(p,t[3]),E&16&&bt(y.value)!==t[4]&&j(y,t[4]),C.ctx=t,E&32&&Z!==(Z=t[5])&&at(Z,C)||Pt(C,t,E)},i:T,o:T,d(I){I&&(x(e),x(l),x(r),x(H),x(L)),C.block.d(),C.token=null,C=null,et=!1,W(it)}}}function _t(t){var e=t.split("-");return new Date(e[0],e[1],e[2])}function Ut(t,e,l){const r=function(){return fetch("/read",{method:"GET"}).then(g=>g.json()).then(g=>(console.log(g),g))};let n="",o="",i="",c="",h="";const s=function(p){p.preventDefault(),console.log(n,o,i,c,h);let g={title:n,author:o,started:i,finished:c,daysTaken:k(i,c),rating:h},b=JSON.stringify(g);l(5,m=fetch("/add",{method:"POST",body:b,headers:{"Content-Type":"application/json"}}).then(w=>w.json()))},k=(p,g)=>{let b=_t(p),w=_t(g);if(b.getDate()&&w.getDate()){if(b.getTime()>w.getTime())return console.log("Error, start must be before end."),-1;let A=b.getTime()-w.getTime(),N=Math.abs(A/(1e3*3600*24));return console.log(N),N}},f=function(p){let g={title:p},b=JSON.stringify(g);l(5,m=fetch("/delete",{method:"DELETE",body:b,headers:{"Content-Type":"application/json"}}).then(w=>w.json()))};let m=r();function v(){n=this.value,l(0,n)}function O(){o=this.value,l(1,o)}function $(){i=this.value,l(2,i)}function M(){c=this.value,l(3,c)}function D(){h=bt(this.value),l(4,h)}return[n,o,i,c,h,m,s,f,v,O,$,M,D,p=>f(p.title)]}class Vt extends Jt{constructor(e){super(),xt(this,e,Ut,Kt,wt,{})}}new Vt({target:document.getElementById("app")});
